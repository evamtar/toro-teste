USE ToroInvestimentos;
CREATE TABLE IF NOT EXISTS USUARIO(
	USUARIO_ID VARCHAR(50),
	LOGIN VARCHAR(100),
	SENHA_CRIPTOGRAFADA VARCHAR(50),
	PRIMARY KEY(USUARIO_ID)
);
INSERT INTO USUARIO VALUES('ec6f6b44-e0d9-4a60-b4c7-aefff23eb660', 'evandro.tartari', '449977705b5208d07a4ad68da3ff6ac5');
CREATE TABLE IF NOT EXISTS CLIENTE(
	CLIENTE_ID VARCHAR(50),
	NOME_COMPLETO VARCHAR(150),
	DOCUMENTO VARCHAR(20),
	ATIVO TINYINT(1),
	USUARIO_ID VARCHAR(50),
	PRIMARY KEY(CLIENTE_ID),
	FOREIGN KEY(USUARIO_ID) REFERENCES USUARIO(USUARIO_ID)
);
INSERT INTO CLIENTE VALUES('64d092b2-9c5d-11eb-9b0d-0242c0a87002', 'Evandro de Almeida Tartari', '29890959852', 1, 'ec6f6b44-e0d9-4a60-b4c7-aefff23eb660');
CREATE TABLE IF NOT EXISTS CONTA_CORRENTE(
	CONTA_CORRENTE_ID VARCHAR(50),
	AGENCIA VARCHAR(10),
	NUMERO VARCHAR(20),
	SALDO DECIMAL(18,2),
	CLIENTE_ID VARCHAR(50),
	PRIMARY KEY(CONTA_CORRENTE_ID),
	FOREIGN KEY(CLIENTE_ID) REFERENCES CLIENTE(CLIENTE_ID)
);
INSERT INTO CONTA_CORRENTE VALUES('f6ec78bd-5673-4761-8354-a794f7607362', '0001', '5328543', 9854.12, '64d092b2-9c5d-11eb-9b0d-0242c0a87002');
CREATE TABLE IF NOT EXISTS TRANSACAO(
	TRANSACAO_ID VARCHAR(50),
	TIPO_OPERACAO CHAR(1),
	VALOR DECIMAL(18,2),
	DATA_OPERACAO DATE,
	HORA_OPERACAO TIME, 
	CONTA_CORRENTE_ID VARCHAR(50),
	PRIMARY KEY(TRANSACAO_ID),
	FOREIGN KEY(CONTA_CORRENTE_ID) REFERENCES CONTA_CORRENTE(CONTA_CORRENTE_ID)
);
INSERT INTO TRANSACAO VALUES('a84491f4-9bc7-4d3c-9660-ecf7635b30fd', 'C', 527.52, STR_TO_DATE('01/03/2021','%d/%m/%Y'), '18:05', 'f6ec78bd-5673-4761-8354-a794f7607362');
INSERT INTO TRANSACAO VALUES('562b0e95-11ee-487f-a548-793190eda663', 'D', 953.02, STR_TO_DATE('02/04/2021','%d/%m/%Y'), '22:17', 'f6ec78bd-5673-4761-8354-a794f7607362');
INSERT INTO TRANSACAO VALUES('5b4750dc-6cf0-4d3e-bf03-c4942fdf6510', 'D', 123.89, STR_TO_DATE('09/04/2021','%d/%m/%Y'), '06:15', 'f6ec78bd-5673-4761-8354-a794f7607362');
CREATE TABLE IF NOT EXISTS ATIVOS(
	ATIVO_ID VARCHAR(50),
	CODIGO_BOVESPA VARCHAR(10),
	DESCRICAO VARCHAR(150),
	QUANTIDADE INT,
	CLIENTE_ID VARCHAR(50),
	PRIMARY KEY(ATIVO_ID),
	FOREIGN KEY(CLIENTE_ID) REFERENCES CLIENTE(CLIENTE_ID)
);
INSERT INTO ATIVOS VALUES('c3de783c-9d52-11eb-8033-0242c0a88002', 'PETR4', 'Petroleo Brasileiro SA Petrobras Preference Shares', 100.00, '64d092b2-9c5d-11eb-9b0d-0242c0a87002');