USE ToroInvestimentos;
CREATE TABLE IF NOT EXISTS USUARIO(
	USUARIO_ID VARCHAR(50),
	LOGIN VARCHAR(100),
	SENHA_CRIPTOGRAFADA VARCHAR(50),
	PRIMARY KEY(USUARIO_ID)
);
INSERT INTO USUARIO VALUES('ec6f6b44-e0d9-4a60-b4c7-aefff23eb660', 'evandro.tartari', '449977705b5208d07a4ad68da3ff6ac5');
CREATE TABLE IF NOT EXISTS CLIENTE(
	CLIENTE_ID VARCHAR(50),
	NOME_COMPLETO VARCHAR(150),
	DOCUMENTO VARCHAR(20),
	ATIVO TINYINT(1),
	USUARIO_ID VARCHAR(50),
	PRIMARY KEY(CLIENTE_ID),
	FOREIGN KEY(USUARIO_ID) REFERENCES USUARIO(USUARIO_ID)
);
INSERT INTO CLIENTE VALUES('64d092b2-9c5d-11eb-9b0d-0242c0a87002', 'Evandro de Almeida Tartari', '29890959852', 1, 'ec6f6b44-e0d9-4a60-b4c7-aefff23eb660');
CREATE TABLE IF NOT EXISTS CONTA_CORRENTE(
	CONTA_CORRENTE_ID VARCHAR(50),
	AGENCIA VARCHAR(10),
	NUMERO VARCHAR(20),
	SALDO DECIMAL(18,2),
	CLIENTE_ID VARCHAR(50),
	PRIMARY KEY(CONTA_CORRENTE_ID),
	FOREIGN KEY(CLIENTE_ID) REFERENCES CLIENTE(CLIENTE_ID)
);
INSERT INTO CONTA_CORRENTE VALUES('f6ec78bd-5673-4761-8354-a794f7607362', '0001', '5328543', 9854.12, '64d092b2-9c5d-11eb-9b0d-0242c0a87002');
CREATE TABLE IF NOT EXISTS TRANSACAO(
	TRANSACAO_ID VARCHAR(50),
	TIPO_OPERACAO CHAR(1),
	VALOR DECIMAL(18,2),
	DATA_OPERACAO DATE,
	HORA_OPERACAO TIME, 
	CONTA_CORRENTE_ID VARCHAR(50),
	PRIMARY KEY(TRANSACAO_ID),
	FOREIGN KEY(CONTA_CORRENTE_ID) REFERENCES CONTA_CORRENTE(CONTA_CORRENTE_ID)
);
INSERT INTO TRANSACAO VALUES(UUID(), 'C', 527.52, STR_TO_DATE('01/03/2021','%d/%m/%Y'), '18:05:45', 'f6ec78bd-5673-4761-8354-a794f7607362');
INSERT INTO TRANSACAO VALUES(UUID(), 'D', 953.02, STR_TO_DATE('02/04/2021','%d/%m/%Y'), '22:17:02', 'f6ec78bd-5673-4761-8354-a794f7607362');
INSERT INTO TRANSACAO VALUES(UUID(), 'D', 123.89, STR_TO_DATE('09/04/2021','%d/%m/%Y'), '06:15:58', 'f6ec78bd-5673-4761-8354-a794f7607362');
INSERT INTO TRANSACAO VALUES(UUID(), 'D', 758.32, STR_TO_DATE('04/04/2021','%d/%m/%Y'), '18:41:01', 'f6ec78bd-5673-4761-8354-a794f7607362');
INSERT INTO TRANSACAO VALUES(UUID(), 'C', 52.18, STR_TO_DATE('08/04/2021','%d/%m/%Y'), '14:47:10', 'f6ec78bd-5673-4761-8354-a794f7607362');
INSERT INTO TRANSACAO VALUES(UUID(), 'C', 1.23, STR_TO_DATE('06/04/2021','%d/%m/%Y'), '12:23:02', 'f6ec78bd-5673-4761-8354-a794f7607362');
INSERT INTO TRANSACAO VALUES(UUID(), 'C', 1524.29, STR_TO_DATE('09/04/2021','%d/%m/%Y'), '09:25:12', 'f6ec78bd-5673-4761-8354-a794f7607362');
INSERT INTO TRANSACAO VALUES(UUID(), 'D', 5325.74, STR_TO_DATE('12/04/2021','%d/%m/%Y'), '10:22:52', 'f6ec78bd-5673-4761-8354-a794f7607362');
CREATE TABLE IF NOT EXISTS ATIVOS(
	ATIVO_ID VARCHAR(50),
	CODIGO_BOVESPA VARCHAR(10),
	DESCRICAO VARCHAR(150),
	QUANTIDADE INT,
	CLIENTE_ID VARCHAR(50),
	PRIMARY KEY(ATIVO_ID),
	FOREIGN KEY(CLIENTE_ID) REFERENCES CLIENTE(CLIENTE_ID)
);
INSERT INTO ATIVOS VALUES(UUID(), 'PETR4', 'Petroleo Brasileiro SA Petrobras Preference Shares', 100.00, '64d092b2-9c5d-11eb-9b0d-0242c0a87002');
INSERT INTO ATIVOS VALUES(UUID(), 'CMIG4', 'Companhia Energetica de Minas Gers CEMIG Preference Shares', 500.00, '64d092b2-9c5d-11eb-9b0d-0242c0a87002');
INSERT INTO ATIVOS VALUES(UUID(), 'VVAR3', 'Via Varejo', 20.00, '64d092b2-9c5d-11eb-9b0d-0242c0a87002');
INSERT INTO ATIVOS VALUES(UUID(), 'MGLU3', 'Magazine Luiza', 150.00, '64d092b2-9c5d-11eb-9b0d-0242c0a87002');